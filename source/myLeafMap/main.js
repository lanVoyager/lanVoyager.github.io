//// Initialize Map
    var myRoute;
    var myCity;
    var mymap = L.map('map');
    var cities = L.layerGroup();
    var routes = L.layerGroup();

myCity = {"type": "FeatureCollection", "features": [{"geometry": {"type": "Point", "coordinates": [-77.03853607177734, -12.059466077479954]}, "type": "Feature", "properties": {"Index": "1", "Country": "Peru", "Name": "Lima", "Mode": ""}}, {"geometry": {"type": "Point", "coordinates": [-78.51714134216309, -7.156336529586835]}, "type": "Feature", "properties": {"Index": "2", "Country": "Peru", "Name": "Cajamarca", "Mode": ""}}, {"geometry": {"type": "Point", "coordinates": [-77.87203788757324, -6.228787170897584]}, "type": "Feature", "properties": {"Index": "3", "Country": "Peru", "Name": "Chachapoyas", "Mode": ""}}, {"geometry": {"type": "Point", "coordinates": [-76.97476387023924, -6.033700658193864]}, "type": "Feature", "properties": {"Index": "4", "Country": "Peru", "Name": "Moyobamba", "Mode": ""}}, {"geometry": {"type": "Point", "coordinates": [-76.3590145111084, -6.486657376194243]}, "type": "Feature", "properties": {"Index": "5", "Country": "Peru", "Name": "Tarapoto", "Mode": ""}}, {"geometry": {"type": "Point", "coordinates": [-76.10517024993896, -5.894724704759804]}, "type": "Feature", "properties": {"Index": "6", "Country": "Peru", "Name": "Yurimaguas", "Mode": ""}}, {"geometry": {"type": "Point", "coordinates": [-75.6789779663086, -5.2264347456519005]}, "type": "Feature", "properties": {"Index": "7", "Country": "Peru", "Name": "Lagunas", "Mode": ""}}, {"geometry": {"type": "Point", "coordinates": [-73.24670791625975, -3.7474397583064567]}, "type": "Feature", "properties": {"Index": "8", "Country": "Peru", "Name": "Iquitos", "Mode": ""}}, {"geometry": {"type": "Point", "coordinates": [-71.97143554687499, -13.515834795970209]}, "type": "Feature", "properties": {"Index": "9", "Country": "Peru", "Name": "Cusco", "Mode": ""}}, {"geometry": {"type": "Point", "coordinates": [-68.13437461853027, -16.494443615551045]}, "type": "Feature", "properties": {"Index": "10", "Country": "Bolivia", "Name": "La Paz", "Mode": ""}}, {"geometry": {"type": "Point", "coordinates": [-70.64929962158203, -33.435452502070085]}, "type": "Feature", "properties": {"Index": "11", "Country": "Chile", "Name": "Santiago", "Mode": ""}}, {"geometry": {"type": "Point", "coordinates": [-73.49716186523438, -50.94977577622447]}, "type": "Feature", "properties": {"Index": "12", "Country": "Chile", "Name": "Torres Del Paine", "Mode": ""}}, {"geometry": {"type": "Point", "coordinates": [-68.30972671508789, -54.806027786501595]}, "type": "Feature", "properties": {"Index": "13", "Country": "Agentina", "Name": "Ushuaia", "Mode": ""}}, {"geometry": {"type": "Point", "coordinates": [-60.29296874999999, -64.10100652652665]}, "type": "Feature", "properties": {"Index": "14", "Country": "Antartica", "Name": "Antartica", "Mode": ""}}, {"geometry": {"type": "Point", "coordinates": [-58.4417724609375, -34.601563177240884]}, "type": "Feature", "properties": {"Index": "15", "Country": "Agentina", "Name": "Buenos Aires", "Mode": ""}}, {"geometry": {"type": "Point", "coordinates": [-46.64520263671875, -23.541327170505458]}, "type": "Feature", "properties": {"Index": "16", "Country": "Brazil", "Name": "Sano Paulo", "Mode": ""}}]}
myRoute = {"type": "FeatureCollection", "features": [{"geometry": {"type": "LineString", "coordinates": [[-77.03853607177734, -12.059214267814838], [-78.5170555114746, -7.156251367517811]]}, "type": "Feature", "properties": {"Index": "1", "Country": "", "Name": "bus", "Mode": "bus"}}, {"geometry": {"type": "LineString", "coordinates": [[-78.51688385009766, -7.1559107190828275], [-77.87203788757324, -6.228701846897094]]}, "type": "Feature", "properties": {"Index": "2", "Country": "", "Name": "bus", "Mode": "bus"}}, {"geometry": {"type": "LineString", "coordinates": [[-77.87178039550781, -6.227933930268672], [-76.9757080078125, -6.032676394740438]]}, "type": "Feature", "properties": {"Index": "3", "Country": "", "Name": "bus", "Mode": "bus"}}, {"geometry": {"type": "LineString", "coordinates": [[-76.97845458984375, -6.034042078914927], [-76.365966796875, -6.481796323398132]]}, "type": "Feature", "properties": {"Index": "4", "Country": "", "Name": "bus", "Mode": "bus"}}, {"geometry": {"type": "LineString", "coordinates": [[-76.35772705078125, -6.48452534126518], [-76.1052131652832, -5.894383197296389]]}, "type": "Feature", "properties": {"Index": "5", "Country": "", "Name": "bus", "Mode": "bus"}}, {"geometry": {"type": "LineString", "coordinates": [[-76.10572814941406, -5.893700181739136], [-76.10469818115234, -5.877649074390586], [-76.10126495361328, -5.8667203959145295], [-76.08684539794922, -5.863305139944947], [-76.07654571533203, -5.8619390317028275], [-76.07688903808594, -5.851351579497283], [-76.07826232910156, -5.839397763468768], [-76.0799789428711, -5.832225351387033], [-76.08924865722656, -5.824369747214179], [-76.1019515991211, -5.81207379843352], [-76.11396789550781, -5.810366006513055], [-76.12186431884766, -5.816172477899661], [-76.12529754638672, -5.8277852407976845], [-76.13834381103516, -5.847253157053508], [-76.14761352539062, -5.854083844436751], [-76.16958618164062, -5.845203934571675], [-76.17851257324219, -5.828809884821004], [-76.18675231933594, -5.812415356195893], [-76.18709564208984, -5.805584161583439], [-76.1795425415039, -5.791579953844512], [-76.15997314453125, -5.777233820078872], [-76.13937377929688, -5.764595258237249], [-76.13079071044922, -5.763228910358437], [-76.11602783203125, -5.774842762426267], [-76.1136245727539, -5.784748506958335], [-76.10126495361328, -5.7948248621805645], [-76.08272552490234, -5.7932878026613475], [-76.05697631835936, -5.783723782805876], [-76.0499382019043, -5.778258555982616], [-76.03826522827148, -5.778258555982616], [-76.02642059326172, -5.778429345119616], [-76.01818084716795, -5.772793276406243], [-76.01715087890625, -5.76288732287485], [-76.0260772705078, -5.747857270297072], [-76.02848052978516, -5.7369260736325955], [-76.014404296875, -5.717454360828009], [-76.0195541381836, -5.692857566314925], [-76.02401733398438, -5.682608590992437], [-76.01921081542969, -5.675092559792609], [-76.00582122802734, -5.6668931412886945], [-75.98419189453125, -5.659376905369296], [-75.9653091430664, -5.651177263840321], [-75.95191955566406, -5.640244227868477], [-75.94985961914062, -5.628627651400343], [-75.95672607421875, -5.62042757528488], [-75.9646224975586, -5.617694190906012], [-75.98247528076172, -5.619744230392981], [-75.98796844482422, -5.613594090289797], [-75.98762512207031, -5.605735483517388], [-75.97732543945312, -5.601293615490159], [-75.9646224975586, -5.6023186649565195], [-75.95020294189453, -5.596851713690364], [-75.93475341796875, -5.593776531135829], [-75.92273712158203, -5.592751466691575], [-75.91827392578125, -5.582500723531862], [-75.9213638305664, -5.570541296639177], [-75.9316635131836, -5.555847953199212], [-75.93509674072266, -5.547305143101606], [-75.93406677246094, -5.53807876925082], [-75.92273712158203, -5.530902601092245], [-75.91381072998047, -5.524068074308524], [-75.90591430664062, -5.523384617291986], [-75.89286804199219, -5.527485347562254], [-75.88668823242188, -5.527143621124252], [-75.88565826416014, -5.522701159487076], [-75.88600158691406, -5.5172334686779765], [-75.89492797851562, -5.513132667493246], [-75.90213775634766, -5.50869010090821], [-75.9048843383789, -5.501513577028054], [-75.90145111083983, -5.496045691192532], [-75.89561462402344, -5.495362201931745], [-75.88977813720703, -5.502538800028518], [-75.88462829589844, -5.509373574853506], [-75.87913513183594, -5.510740520384826], [-75.87089538574219, -5.501513577028054], [-75.86334228515625, -5.493653475348152], [-75.8547592163086, -5.492969983342318], [-75.85132598876953, -5.48681852001755], [-75.85613250732422, -5.480666993252218], [-75.86540222167969, -5.4765659401985864], [-75.8822250366211, -5.474173646252353], [-75.8822250366211, -5.465287899247417], [-75.8781051635742, -5.459477916441944], [-75.87295532226562, -5.456060253190292], [-75.8609390258789, -5.456060253190292], [-75.85201263427734, -5.453326108568553], [-75.84308624267578, -5.435553865190238], [-75.8437728881836, -5.42427505393553], [-75.83999633789062, -5.411970655767907], [-75.82626342773438, -5.405134770799555], [-75.80429077148438, -5.402742192824356], [-75.79914093017578, -5.394538996626988], [-75.80291748046875, -5.383601229200718], [-75.80772399902342, -5.379157704953288], [-75.81871032714844, -5.3808667565823685], [-75.82592010498047, -5.385652075593901], [-75.8331298828125, -5.388044720972305], [-75.83415985107422, -5.38223399442847], [-75.82592010498047, -5.374030521270893], [-75.8221435546875, -5.363776024463521], [-75.82592010498047, -5.351812227085943], [-75.83381652832031, -5.3422410206589035], [-75.8334732055664, -5.334720682136335], [-75.8272933959961, -5.322414474884004], [-75.81459045410156, -5.317970506163193], [-75.8056640625, -5.308056921899332], [-75.78849792480469, -5.309424322313875], [-75.77407836914062, -5.312159114043916], [-75.76412200927734, -5.305322111975042], [-75.75794219970703, -5.303270996576561], [-75.74935913085938, -5.303612849616365], [-75.74317932128906, -5.307373220555012], [-75.73219299316406, -5.303270996576561], [-75.72532653808594, -5.2940408929743485], [-75.72257995605469, -5.281050143427324], [-75.72669982910156, -5.268059121619678], [-75.73219299316406, -5.262247260735278], [-75.71125030517578, -5.242760037159453], [-75.70335388183594, -5.245837007689099], [-75.69236755371094, -5.238999274810475], [-75.69683074951172, -5.228058746609549], [-75.7071304321289, -5.216092325027052], [-75.70266723632812, -5.208912362527757], [-75.6851577758789, -5.2102799807597755], [-75.67520141601561, -5.215408522611778]]}, "type": "Feature", "properties": {"Index": "6", "Country": "", "Name": "ferry", "Mode": "ferry"}}, {"geometry": {"type": "LineString", "coordinates": [[-75.6683349609375, -5.214040915546597], [-75.66764831542969, -5.188055816200534], [-75.67108154296875, -5.173695170299634], [-75.65940856933592, -5.1689082158643265], [-75.63400268554688, -5.173695170299634], [-75.618896484375, -5.162069646776987], [-75.62370300292969, -5.13197906808691], [-75.64430236816406, -5.125140101962673], [-75.65683364868164, -5.13197906808691], [-75.66438674926758, -5.126336926322431], [-75.66919326782227, -5.124456201321756], [-75.67605972290039, -5.121891567399222], [-75.67983627319336, -5.11761715466515], [-75.6764030456543, -5.108555305249371], [-75.66078186035156, -5.060166285790342], [-75.65254211425781, -5.056062456416891], [-75.6360626220703, -5.065638017797983], [-75.62095642089844, -5.101203144585458], [-75.60310363769531, -5.10804236654312], [-75.58387756347656, -5.126507901047901], [-75.56602478027342, -5.1196688763430505], [-75.55160522460938, -5.0929959820461415], [-75.55366516113281, -5.074529483496547], [-75.552978515625, -5.034174927717976], [-75.5419921875, -5.002710315596922], [-75.53718566894531, -4.979452890435599], [-75.51315307617188, -4.963035388968034], [-75.51177978515625, -4.937724274302479], [-75.49667358398438, -4.928830950370009], [-75.46440124511717, -4.930199161805652], [-75.42526245117186, -4.937724274302479], [-75.41152954101562, -4.902150265162122], [-75.41290283203125, -4.881625935709636], [-75.40809631347656, -4.860416802279162], [-75.3943634033203, -4.833733396156413], [-75.37307739257812, -4.809785854702313], [-75.33050537109375, -4.791311461314763], [-75.311279296875, -4.794048440036237], [-75.267333984375, -4.821417623146179], [-75.23300170898438, -4.809101626836554], [-75.201416015625, -4.8186807543549675], [-75.146484375, -4.825522905655193], [-75.12657165527344, -4.822101838621235], [-75.09361267089844, -4.804996245208925], [-75.08743286132812, -4.789942967844043], [-75.08811950683594, -4.7605196970202766], [-75.07507324218749, -4.753676895264532], [-75.05241394042969, -4.765993889428381], [-75.03044128417969, -4.792679952045753], [-74.99954223632812, -4.773520832778661], [-74.98580932617188, -4.746149734842909], [-74.97276306152344, -4.733832386205059], [-74.93156433105469, -4.730410861532677], [-74.91165161132812, -4.733832386205059], [-74.87251281738281, -4.748886893593422], [-74.86083984375, -4.729042246928916], [-74.88212585449219, -4.724936386893995], [-74.893798828125, -4.713302984798316], [-74.85294342041016, -4.69003559682718], [-74.80522155761719, -4.684560804504976], [-74.79698181152344, -4.651026767992816], [-74.76470947265625, -4.549046159713617], [-74.74891662597656, -4.534671885137523], [-74.73381042480469, -4.531933895619856], [-74.70771789550781, -4.5442547666898925], [-74.68917846679688, -4.535356380895767], [-74.67681884765624, -4.527142389013052], [-74.65896606445312, -4.536725370466212], [-74.63768005371094, -4.521666342614791], [-74.58137512207031, -4.4614271114420525], [-74.55665588378906, -4.460742546200266], [-74.55459594726562, -4.479225583446768], [-74.5477294921875, -4.520981833903765], [-74.52919006347655, -4.536725370466212], [-74.50859069824219, -4.529880396675466], [-74.48593139648438, -4.530564896971611], [-74.47837829589844, -4.550415123295038], [-74.46945190429688, -4.58463836477998], [-74.43099975585938, -4.602433803340706], [-74.37606811523438, -4.5996960724789], [-74.33349609375, -4.63665454857639], [-74.27169799804686, -4.643498499105471], [-74.24560546875, -4.668136170529941], [-74.212646484375, -4.680454682128579], [-74.20578002929688, -4.65444868180161], [-74.21676635742186, -4.616122299564972], [-74.24423217773438, -4.588745043848723], [-74.24697875976562, -4.559997795432576], [-74.21127319335938, -4.544939253358098], [-74.1741943359375, -4.491547348913984], [-74.12612915039062, -4.488809196778639], [-74.08218383789062, -4.5161902548267], [-74.05609130859375, -4.488809196778639], [-74.00390625, -4.492916421127377], [-73.98056030273438, -4.480594678760173], [-73.9544677734375, -4.486071034370422], [-73.89678955078125, -4.524404370990759], [-73.86520385742188, -4.586007260426522], [-73.83499145507811, -4.613384621418799], [-73.77182006835938, -4.633916949794763], [-73.74298095703125, -4.588745043848723], [-73.68942260742188, -4.573687105259828], [-73.619384765625, -4.573687105259828], [-73.58917236328125, -4.544939253358098], [-73.58230590820312, -4.507976045647358], [-73.52462768554688, -4.466903610394124], [-73.46969604492188, -4.45868884664683], [-73.42163085937499, -4.3957059524938735], [-73.42163085937499, -4.338195181415949], [-73.43948364257812, -4.303960496615189], [-73.38455200195312, -4.265615822464524], [-73.36944580078125, -4.236856059768947], [-73.3502197265625, -4.169745800132273], [-73.32000732421875, -4.1135879097102865], [-73.28704833984375, -4.109478639690112], [-73.24996948242188, -4.187551125218811], [-73.19091796875, -4.168376143010103], [-73.18267822265625, -4.114957661674549], [-73.16619873046875, -4.064275276559952], [-73.14422607421875, -4.045097324980062], [-73.1744384765625, -3.980710893919806], [-73.25408935546875, -3.9396105340285086], [-73.26370239257812, -3.914949342099953], [-73.2183837890625, -3.8505528165616365], [-73.1689453125, -3.8204080831949407], [-73.157958984375, -3.7806702268751833], [-73.17993164062499, -3.7327083213358336], [-73.22113037109375, -3.7135228237994182], [-73.24172973632812, -3.728597178501745]]}, "type": "Feature", "properties": {"Index": "7", "Country": "", "Name": "ferry", "Mode": "ferry"}}, {"geometry": {"type": "LineString", "coordinates": [[-73.2568359375, -3.754634090910913], [-77.01416015625, -12.017830337768213]]}, "type": "Feature", "properties": {"Index": "8", "Country": "", "Name": "flight", "Mode": "flight"}}, {"geometry": {"type": "LineString", "coordinates": [[-77.0361328125, -12.017830337768213], [-71.982421875, -13.496472765758952]]}, "type": "Feature", "properties": {"Index": "9", "Country": "", "Name": "bus", "Mode": "bus"}}, {"geometry": {"type": "LineString", "coordinates": [[-71.96044921875, -13.539200668930816], [-68.13720703125, -16.425547506916725]]}, "type": "Feature", "properties": {"Index": "10", "Country": "", "Name": "bus", "Mode": "bus"}}, {"geometry": {"type": "LineString", "coordinates": [[-68.115234375, -16.467694748288956], [-70.751953125, -33.46810795527895]]}, "type": "Feature", "properties": {"Index": "11", "Country": "", "Name": "bus", "Mode": "bus"}}, {"geometry": {"type": "LineString", "coordinates": [[-70.751953125, -33.137551192346145], [-73.65234375, -50.847572953653874]]}, "type": "Feature", "properties": {"Index": "12", "Country": "", "Name": "bus", "Mode": "bus"}}, {"geometry": {"type": "LineString", "coordinates": [[-73.47656249999999, -50.847572953653874], [-68.37890625, -54.62297813269033]]}, "type": "Feature", "properties": {"Index": "13", "Country": "", "Name": "bus", "Mode": "bus"}}, {"geometry": {"type": "LineString", "coordinates": [[-68.37890625, -54.724620194924476], [-61.435546875, -59.80063426102868], [-64.16015624999999, -62.308793691028036], [-62.49023437499999, -63.89873081524392], [-60.20507812499999, -63.821287652613826], [-55.72265625, -62.14497603754045], [-55.37109374999999, -59.130863097255904], [-60.29296874999999, -57.98480801923985], [-66.005859375, -55.97379820507658], [-68.291015625, -54.749990970226904]]}, "type": "Feature", "properties": {"Index": "14", "Country": "", "Name": "cruise", "Mode": "cruise"}}, {"geometry": {"type": "LineString", "coordinates": [[-68.291015625, -54.826007999094955], [-58.447265625, -34.37971258046219]]}, "type": "Feature", "properties": {"Index": "15", "Country": "", "Name": "bus", "Mode": "bus"}}, {"geometry": {"type": "LineString", "coordinates": [[-58.35937499999999, -34.59704151614416], [-46.669921875, -23.40276490540795]]}, "type": "Feature", "properties": {"Index": "16", "Country": "", "Name": "bus", "Mode": "bus"}}]}

L.tileLayer('https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png', {
    attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',
    subdomains: 'abcd',
    maxZoom: 19
}).addTo(mymap);

drawMap();

function drawMap(){
      var cityLayer = L.geoJSON(myCity).addTo(mymap);
      var routeLayer =L.geoJSON(myRoute).addTo(mymap);
      mymap.fitBounds(cityLayer.getBounds());
};




function loadCity(callback){
    $.getJSON('geoData/lanCity.json', function(response){
        myCity = response;
    })
    .done(function(){
        callback(null);
    })
}

function loadRoute(callback){
    $.getJSON('geoData/lanRoute.json', function(response){
        myRoute = response;
    })
    .done(function(){
        callback(null)
    })
}


//function loadPoly(){
//    $.getJSON('test.geojson', function(response){
//        myRoute = response;
//    })
//}

/*
// candidate basemap
var CartoDB_Positron = L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
	attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',
	subdomains: 'abcd',
	maxZoom: 19
});

var CartoDB_Voyager = L.tileLayer('https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png', {
	attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',
	subdomains: 'abcd',
	maxZoom: 19
});

var HikeBike_HikeBike = L.tileLayer('https://tiles.wmflabs.org/hikebike/{z}/{x}/{y}.png', {
	maxZoom: 19,
	attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
});

var Wikimedia = L.tileLayer('https://maps.wikimedia.org/osm-intl/{z}/{x}/{y}{r}.png', {
	attribution: '<a href="https://wikimediafoundation.org/wiki/Maps_Terms_of_Use">Wikimedia</a>',
	minZoom: 1,
	maxZoom: 19
});
*/